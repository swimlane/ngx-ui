<div class="ngx-calendar-wrap">
  <div class="text-center" [ngSwitch]="currentView">
    <div *ngSwitchCase="'date'">
      <div class="title-row">
        <button type="button" tabindex="0" class="prev-month" [disabled]="disabled" title="Previous Month" (click)="prevMonth()">
          <span class="icon-arrow-left"></span>
        </button>
        <button type="button" class="title" tabindex="0" (click)="changeViews()">
          {{ focusDate | amTimeZone: timezone | amDateFormat: 'MMMM YYYY' }}
        </button>
        <button type="button" tabindex="0" class="next-month" title="Next Month" [disabled]="disabled" (click)="nextMonth()">
          <span class="icon-arrow-right"></span>
        </button>
      </div>
      <div class="day-name-row">
        <div class="day-name text-center" *ngFor="let d of daysOfWeek">
          {{ d }}
        </div>
      </div>
      <table class="day-container" role="grid">
        <tr *ngFor="let week of weeks" class="day-row" role="row">
          <td *ngFor="let day of week" class="day-cell text-center" role="gridcell">
            <button
              *ngIf="day.num"
              class="day"
              type="button"
              (focus)="onDayFocus(day)"
              [attr.aria-label]="day.date | amTimeZone: timezone | amDateFormat: 'LL'"
              [title]="day.date | amTimeZone: timezone | amDateFormat: 'LL'"
              [class.active]="isDayActive(day.date)"
              [class.focus]="isDayFocus(day.date)"
              [attr.tabindex]="!disabled && isDayFocus(day.date) && !isDisabled(day.date, 'day')? 0 : -1"
              [attr.aria-selected]="isDayActive(day.date)"
              [ngClass]="day.classes"
              [disabled]="isDisabled(day.date, 'day')"
              (click)="onDayClick(day)"
              (keydown)="onDayDown($event)"
            >
              {{ day.num }}
            </button>
          </td>
        </tr>
      </table>
    </div>

    <div *ngSwitchCase="'month'">
      <div class="title-row">
        <button type="button" class="prev-month" [disabled]="disabled" title="Previous Year" (click)="prevYear()">
          <span class="icon-arrow-left"></span>
        </button>
        <button class="title" (click)="changeViews()">
          {{ focusDate | amTimeZone: timezone | amDateFormat: 'YYYY' }}
        </button>
        <button type="button" class="next-month" title="Next Year" [disabled]="disabled" (click)="nextYear()">
          <span class="icon-arrow-right"></span>
        </button>
      </div>
      <div class="months-container">
        <div class="months-row">
          <button
            class="month"
            type="button"
            [class.active]="isMonthActive(month)"
            [class.current]="isCurrentMonth(month)"
            *ngFor="let month of monthsList"
            (click)="onMonthClick(month)"
            [disabled]="isDisabled(month, 'month')"
          >
            {{ month }}
          </button>
        </div>
      </div>
    </div>

    <div *ngSwitchCase="'year'">
      <div class="title-row">
        <button
          type="button"
          class="prev-month"
          [disabled]="disabled"
          title="Previous Two Decades"
          (click)="prevTwoDecades()"
        >
          <span class="icon-arrow-left"></span>
        </button>
        <button class="title" (click)="changeViews()"> {{ startYear }} - {{ startYear + 20 }} </button>
        <button
          type="button"
          class="next-month"
          title="Next Two Decades"
          [disabled]="disabled"
          (click)="nextTwoDecades()"
        >
          <span class="icon-arrow-right"></span>
        </button>
      </div>
      <div class="years-container">
        <div class="years-row">
          <button
            class="year"
            type="button"
            *ngFor="let dummy of ' '.repeat(20).split(''); let x = index"
            [class.active]="isYearActive(x + startYear)"
            [class.current]="isCurrentYear(x + startYear)"
            (click)="onYearClick(x + startYear)"
            [disabled]="isDisabled(x + startYear, 'year')"
          >
            {{ x + startYear }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
