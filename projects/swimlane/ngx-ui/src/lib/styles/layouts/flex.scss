/* CSS based on flexboxgrid Copyright 2013 Kristofer Joseph */

@use './_mixins.scss' as mixins;
@use './_flex-vars.scss' as flex-vars;

/* --- CSS Variables --- */

:root {

  // Spacing Gaps
  --spacing-default-gap: 4px;
  --spacing-tight-gap: 2px;
  --spacing-loose-gap: 8px;


  // breakpoints
  --breakpoint: 0px; //default breakpoint
  --breakpoint-xs: 0px;
  --breakpoint-sm: 600px;
  --breakpoint-md: 960px;
  --breakpoint-lg: 1320px;
  --breakpoint-xl: 1680px;
  --breakpoint-xxl: 1920px;

  // container
  --container: 480px; //default container width
  --container-xs: 480px;
  --container-sm: 550px;
  --container-md: 920px;
  --container-lg: 1270px;
  --container-xl: 1630px;
  --container-xxl: 1870px;
  
  
  // columns
  --columns: 12;
  --column-width: calc(100% / var(--columns));

  // gutters
  --gutter-width: 1rem;
  --outer-margin: 2rem;
  --gutter-compensation: calc((var(--gutter-width) * 0.5) * -1);
  --half-gutter-width: calc((var(--gutter-width) * 0.5));

  // containers
  @each $modifier, $width in flex-vars.$container-widths {
    --container#{$modifier}: calc(#{$width} + var(--gutter-width));
  }
}

/* --- Containers --- */

// default container is fluid
#{flex-vars.$container-class},
#{flex-vars.$container-class}-fluid {
  padding-right: var(--outer-margin, 2rem);
  padding-left: var(--outer-margin, 2rem);
}

#{flex-vars.$container-class},
#{flex-vars.$container-class}-fluid,
#{flex-vars.$container-class}-fixed {
  margin-right: auto;
  margin-left: auto;
}

/* --- Rows --- */

#{flex-vars.$row-class} {
  box-sizing: border-box;
  display: flex;
  flex: 0 1 auto;
  flex-direction: row;
  flex-wrap: wrap;
  gap: var(--spacing-default-gap, 4px); // Add this line for default gap

  &.tight {
    gap: var(--spacing-tight-gap, 2px);
  }
  &.loose {
    gap: var(--spacing-loose-gap, 8px);
  }

  margin-right: var(--gutter-compensation, -0.5rem);
  margin-left: var(--gutter-compensation, -0.5rem);

  &.reverse {
    flex-direction: row-reverse;
  }

  @include mixins.modifiers('');

  // defualt columns
  & > * {
    @include mixins.col-base();
    flex: 1 1 auto;

    @include mixins.modifiers('');

    &.reverse {
      flex-direction: column-reverse;
    }
  }
}

/* --- Columns --- */

@each $modifier, $breakpoint in flex-vars.$breakpoints {
  @media screen and (min-width: $breakpoint) {
    #{flex-vars.$container-class}-fixed {
      width: var(--container#{$modifier});
    }

    #{flex-vars.$row-class} > {
      @include mixins.create-col-classes($modifier);
    }
  }
}
